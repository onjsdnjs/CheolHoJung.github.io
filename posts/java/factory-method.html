<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>[OOP] 팩토리 메소드 패턴 | jcheolho</title>
    <meta name="description" content="헤드퍼스트 디자인패턴에 등장하는 팩토리 메소드 패턴에 대한 설명">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="apple-mobile-web-app-title" content="MY APPLE TITLE">
  <meta name="theme-color" content="MY COLOR THEME">
  <meta name="msapplication-navbutton-color" content="MY COLOR THEME">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="coverage" content="WorldWide">
  <meta name="rating" content="general">
  <meta name="robots" content="index,follow">
  <meta name="googlebot" content="index,follow">
  <meta name="application-name" content="MY APP NAME">
  <meta name="msapplication-TileColor" content="MY COLOR THEME">
  <meta name="msapplication-config" content="/browserconfig.xml">
  <meta name="msapplication-square70x70logo" content="/favicon/ms-icon-70x70.png">
  <meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png">
  <meta name="msapplication-square150x150logo" content="/favicon/mstile-150x150.png">
  <meta name="msapplication-wide310x150logo" content="/favicon/ms-icon-310x310.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@ktquez">
  <meta property="fb:app_id" content="MY FACEBOOK APP ID">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="MY SITE NAME">
  <meta property="og:image:height" content="1200">
  <meta property="og:image:width" content="360">
  <meta property="og:image:type" content="image/png">
  <meta name="google-site-verification" content="SK1Dxps2G8JE4dN1BZISZg9_VW99typSNHvfcOOY_w0">
  <meta name="msvalidate.01" content="MY VERIFICATION KEY">
  <meta name="yandex-verification" content="MY VERIFICATION KEY">
  <link rel="publisher" href="MY URL GOOGLE PLUS">
  <link rel="author" href="MY URL GOOGLE PLUS">
  <link rel="author" href="/humans.txt">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" sizes="57x57" href="/favicon/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-icon-180x180.png">
  <link rel="icon" type="image/png" href="/favicon/android-icon-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/favicon/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon/favicon-16x16.png" sizes="16x16">
  <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#ff5733">
  <link rel="shortcut icon" href="/favicon/favicon.ico">
  <link rel="alternate" href="https://cheolhojung.github.io/" hreflang="en">
  <link rel="alternate" href="https://cheolhojung.github.io/pt/" hreflang="pt">
  <link rel="alternate" href="https://cheolhojung.github.io/pt/" hreflang="pt-br">
  <link rel="alternate" href="https://cheolhojung.github.io/es/" hreflang="es">
  <link rel="preconnect" href="https://connect.facebook.net/">
  <link rel="preconnect" href="https://platform.twitter.com/">
  <link rel="preconnect" href="https://widget.sndcdn.com/">
  <link rel="preconnect" href="https://api-widget.soundcloud.com/">
  <link rel="preconnect" href="https://www.youtube.com/">
  <link rel="preconnect" href="https://scrimba.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/">
  <link rel="preconnect" href="https://c.disquscdn.com/">
  <link rel="preconnect" href="https://disqus.com/">
  <link rel="preconnect" href="https://www.google-analytics.com/">
  <link rel="preconnect" href="https://stats.g.doubleclick.net">
  <link rel="preload" href="https://www.google-analytics.com/analytics.js" as="script">
    
    <link rel="preload" href="/assets/css/0.styles.46345aac.css" as="style"><link rel="preload" href="/assets/js/app.bfe739c4.js" as="script"><link rel="preload" href="/assets/js/13.9279a9ff.js" as="script"><link rel="preload" href="/assets/js/3.23193c0c.js" as="script"><link rel="preload" href="/assets/js/12.3e016781.js" as="script"><link rel="preload" href="/assets/js/11.809e9d83.js" as="script"><link rel="preload" href="/assets/js/16.1c2833b5.js" as="script"><link rel="preload" href="/assets/js/2.5fe2a2c5.js" as="script"><link rel="preload" href="/assets/js/5.b501fc84.js" as="script"><link rel="preload" href="/assets/js/6.14ae626b.js" as="script"><link rel="preload" href="/assets/js/17.49af5d66.js" as="script"><link rel="preload" href="/assets/js/42.7c4934ce.js" as="script"><link rel="preload" href="/assets/js/7.2fece6bb.js" as="script"><link rel="preload" href="/assets/js/1.68f42ae0.js" as="script"><link rel="preload" href="/assets/js/9.9f978aa2.js" as="script"><link rel="preload" href="/assets/js/14.53747437.js" as="script"><link rel="preload" href="/assets/js/4.b9cce61f.js" as="script"><link rel="prefetch" href="/assets/js/10.d436c47b.js"><link rel="prefetch" href="/assets/js/15.af58e987.js"><link rel="prefetch" href="/assets/js/18.6c04c596.js"><link rel="prefetch" href="/assets/js/19.3001a8f4.js"><link rel="prefetch" href="/assets/js/20.19f86536.js"><link rel="prefetch" href="/assets/js/21.dc23099d.js"><link rel="prefetch" href="/assets/js/22.51d23d69.js"><link rel="prefetch" href="/assets/js/23.e8858003.js"><link rel="prefetch" href="/assets/js/24.b8e3ecf7.js"><link rel="prefetch" href="/assets/js/25.24b2b6de.js"><link rel="prefetch" href="/assets/js/26.261042dd.js"><link rel="prefetch" href="/assets/js/27.eb85d0f6.js"><link rel="prefetch" href="/assets/js/28.f34f654f.js"><link rel="prefetch" href="/assets/js/29.ec45eb7b.js"><link rel="prefetch" href="/assets/js/30.53ea0a56.js"><link rel="prefetch" href="/assets/js/31.0e6ecd36.js"><link rel="prefetch" href="/assets/js/32.a87f3de7.js"><link rel="prefetch" href="/assets/js/33.3109da63.js"><link rel="prefetch" href="/assets/js/34.764a53b8.js"><link rel="prefetch" href="/assets/js/35.286c1ca0.js"><link rel="prefetch" href="/assets/js/36.b8b332b4.js"><link rel="prefetch" href="/assets/js/37.57321a41.js"><link rel="prefetch" href="/assets/js/38.6777de52.js"><link rel="prefetch" href="/assets/js/39.fefed142.js"><link rel="prefetch" href="/assets/js/40.4dfe5121.js"><link rel="prefetch" href="/assets/js/41.95291ea9.js"><link rel="prefetch" href="/assets/js/43.c1e50db4.js"><link rel="prefetch" href="/assets/js/44.52a495f9.js"><link rel="prefetch" href="/assets/js/45.10cd9aee.js"><link rel="prefetch" href="/assets/js/46.fdd4a2a5.js"><link rel="prefetch" href="/assets/js/47.f8dec09a.js"><link rel="prefetch" href="/assets/js/48.c1469814.js"><link rel="prefetch" href="/assets/js/49.27f1fd45.js"><link rel="prefetch" href="/assets/js/50.3fd45b06.js"><link rel="prefetch" href="/assets/js/51.b0be96f6.js"><link rel="prefetch" href="/assets/js/52.9c6fb38c.js"><link rel="prefetch" href="/assets/js/53.9a0a4361.js"><link rel="prefetch" href="/assets/js/54.85b4dac7.js"><link rel="prefetch" href="/assets/js/55.8758e0e4.js"><link rel="prefetch" href="/assets/js/56.fc1cda38.js"><link rel="prefetch" href="/assets/js/57.d9dc0ea8.js"><link rel="prefetch" href="/assets/js/58.a4e83cf9.js"><link rel="prefetch" href="/assets/js/59.cee413a4.js"><link rel="prefetch" href="/assets/js/60.76cee8af.js"><link rel="prefetch" href="/assets/js/61.696f835c.js"><link rel="prefetch" href="/assets/js/62.e7d9d242.js"><link rel="prefetch" href="/assets/js/63.944172e7.js"><link rel="prefetch" href="/assets/js/64.fd9ffaa4.js"><link rel="prefetch" href="/assets/js/65.f08d54f5.js"><link rel="prefetch" href="/assets/js/66.15913d89.js"><link rel="prefetch" href="/assets/js/67.ab94061c.js"><link rel="prefetch" href="/assets/js/68.b90c5ab1.js"><link rel="prefetch" href="/assets/js/69.4ec6e695.js">
    <link rel="stylesheet" href="/assets/css/0.styles.46345aac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div itemscope="itemscope" itemtype="https://schema.org/WebPage" class="layout-main"><meta itemprop="name" content="jcheolho"> <meta itemprop="alternateName" content="jcheolho"> <meta itemprop="url" content="https://cheolhojung.github.io"> <nav aria-label="Navigation" itemscope="itemscope" itemtype="https://schema.org/SiteNavigationElement" class="container nav-mobile" style="display:none;"><span itemprop="headline" class="nav-mobile__title">Navigation</span> <ul class="nav-mobile__list"><li class="nav-mobile__item"><a href="/about/" itemprop="url" class="nav-mobile__link"><span class="bullet no_bw bullet--primary bullet--undefined"></span> <span class="text">ABOUT</span></a></li><li class="nav-mobile__item"><a href="/categories/" itemprop="url" class="nav-mobile__link"><span class="bullet no_bw bullet--primary bullet--undefined"></span> <span class="text">CATEGORIES</span></a></li><li class="nav-mobile__item"><a href="/contact/" itemprop="url" class="nav-mobile__link"><span class="bullet no_bw bullet--primary bullet--undefined"></span> <span class="text">CONTACT</span></a></li><li class="nav-mobile__item"><a href="/categories/java.html" itemprop="url" class="nav-mobile__link"><span class="bullet no_bw bullet--primary bullet--undefined"></span> <span class="text">Java</span></a></li><li class="nav-mobile__item"><a href="/categories/vuejs.html" itemprop="url" class="nav-mobile__link"><span class="bullet no_bw bullet--primary bullet--undefined"></span> <span class="text">Vue.js</span></a></li></ul></nav> <div class="container-fluid wrapper-body__nm"><header itemscope="itemscope" itemtype="https://schema.org/Organization" class="header"><!----> <div class="row header-top"><div class="column xs-33 sm-20"><div class="hamburguer header-top__hamburguer"><div class="hamburguer__wrapper"><span class="hamburguer__line"></span> <span class="hamburguer__line"></span> <span class="hamburguer__line"></span></div></div> <!----></div> <div class="column xs-33 sm-60"><div class="header__logo"><a href="/" itemprop="url" class="header-top-logo__link router-link-active"><img itemprop="logo" src="/ktquez-play-logo.png" srcset="/ktquez-play-logo.png 1x, /ktquez-play-logo@2x.png 2x" alt="Logo in 3 colors in play format"></a></div> <meta itemprop="name" content="jcheolho"> <meta itemprop="sameAs" content="https://github.com/CheolHoJung"></div> <div class="column xs-33 sm-20"><div class="search header-top__search"><!----> <span class="icon search__icon">search</span></div> <div class="switch-bw header-top__toggle"><span class="switch-bw__text">
      Turn on night mode
    </span> <label for="switch-bw" class="switch-bw__label"><input type="checkbox" id="switch-bw" name="switch-bw" aria-labelledby="switch-bw-text" class="switch-bw__input"> <span class="switch-bw__ball"></span> <span id="switch-bw-text" hidden="hidden">switch to black or white</span></label></div></div></div></header> <main id="main" itemscope="itemscope" itemtype="https://schema.org/Blog" class="main-page"><div><a href="#main" class="vue-skip-to">Skip to main content</a> <div><div class="page page__full row justify-right"><article itemscope="itemscope" itemprop="blogPost" itemtype="https://schema.org/BlogPosting" class="column xs-100 page__full__box box-default"><meta itemprop="mainEntityOfPage" content="/posts/java/factory-method.html"> <header class="page-header page__full-header"><button type="button" class="ui-button reset-button back-button"><span class="icon back-button__icon icon--arrow">arrow</span> <span class="back-button__text">Back</span></button> <div class="page-header__meta"><time datetime="2018-03-21 17:23" itemprop="datePublished" class="text">
                  
              </time> <meta itemprop="dateModified" content="currentPost.updated_at"> <!----></div> <h1 itemprop="name headline" class="page-header__title">[OOP] 팩토리 메소드 패턴</h1> <div class="page-header-cat"><nav class="page-header-cat__nav"><ul class="page-header-cat__list"><li class="page-header-cat__item"><a href="/categories/java.html" itemprop="keywords" class="page-header-cat__link meta-text">
                    Java
                  </a></li></ul></nav></div> <div itemprop="author" itemscope="itemscope" itemtype="https://schema.org/Person" class="page-header__author"><strong>Author: </strong> <a href="/authors/jcheolho.html" rel="author" itemprop="url" class="link link--filler-s-primary"><span itemprop="name">CheolHo Jung</span></a></div></header> <!----> <!----> <section class="page-content page__full-content"><div class="row"><div class="column no-pad-l sm-50 post-share"><div class="observer"><!----> <!----> <!----></div></div> <!----></div> <div class="row"><div class="column no-pad-l md-75 xl-67 post-content"><div class="post-content__box-player"><!----></div> <div class="post-content__excerpt"><!----></div> <div class="post-content__table-contents"><div class="table-contents"><h3 id="table-of-content" class="table-contents__title">Table of contents</h3> <nav><ol class="table-contents__list"><li class="table-contents__item"><a href="#구상-객체와-new-키워드" title="구상 객체와 new 키워드" class="table-contents__link"><span>구상 객체와 new 키워드</span></a></li><li class="table-contents__item"><a href="#간단한-팩토리" title="간단한 팩토리" class="table-contents__link"><span>간단한 팩토리</span></a></li><li class="table-contents__item"><a href="#팩토리-메소드-패턴의-정의" title="팩토리 메소드 패턴의 정의" class="table-contents__link"><span>팩토리 메소드 패턴의 정의</span></a></li><li class="table-contents__item"><a href="#다이어그램" title="다이어그램" class="table-contents__link"><span>다이어그램</span></a></li><li class="table-contents__item"><a href="#예시" title="예시" class="table-contents__link"><span>예시</span></a></li><li class="table-contents__item"><a href="#의문점" title="의문점" class="table-contents__link"><span>의문점</span></a></li></ol></nav></div></div> <div itemprop="articleBody"><div class="content custom"><p>지난 포스팅에선 객체를 감싸서 새로운 임무를 부여하는 데코레이터 패턴에 대해 알아보았다. 이번에는 객체를 생성하는 과정을 분리하여 불필요한 의존성을 없애는 팩토리 패턴에 대해 복습한다.</p> <h2 id="구상-객체와-new-키워드"><a href="#구상-객체와-new-키워드" aria-hidden="true" class="header-anchor">#</a> 구상 객체와 new 키워드</h2> <div class="language-java extra-class"><pre class="language-java"><code>Duck duck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MallardDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>인터페이스를 이용하여 유연한 코드를 작성하려고 한다. Duck 자료형의 변수에 MallardDuck 구상 클래스의 인스턴스를 생성해서 대입했다.</p> <div class="language-java extra-class"><pre class="language-java"><code>Duck duck<span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>picnic<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	duck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MallardDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>hunting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	duck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecoyDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>inBathTub<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	duck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RubberDuck</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>오리를 나타내는 일련의 구상 클래스들이 있을 경우, 컴파일시에는 어떤 것의 인스턴스를 만들어야 하는지 알 수 없다</strong>. 생성해야 하는 구체적인 인스턴스는 실행시에 주어진 조건에 따라 결정된다. 따라서 위처럼 작성한다. 이러한 코드는 변경하거나 확장할 때 <strong>코드를 다시 확인해야하기 때문에 관리가 어려워지고 오류의 가능성도 높아진다</strong>.</p> <blockquote><p>애플리케이션에서 달라지는 부분을 찾아 내고, 달라지지 않는 부분으로부터 분리시킨다.(원칙 1)</p> <p>인터페이스에 맞춰 프로그래밍한다.(원칙 3)</p></blockquote> <p>new 키워드 자체에 문제가 있는 것은 아니다. 문제는 <strong>변화가 불러오는 상황</strong>에 있다. 어떻게 변화에 대비해야할까? 헤드퍼스트 디자인패턴 책에 등장하는 디자인 원칙 두가지를 살펴보자. 세번째 원칙에 따라 인퍼테이스에 맞춰서 코딩을 하면 시스템에서 일어날 수 있는 여러 변화를 이겨낼 수 있다. 다형성 덕분에 어떤 클래스든 특정 인터페이스만 구현하면 해당 인스턴스의 타입으로 사용할 수 있다.</p> <p>반면 인터페이스가 아닌 구상 클래스의 타입을 사용하면 새로운 구상 클래스가 추가될 때마다 코드를 고쳐야한다. 결국 해당 클래스는 변화와 확장에 대해 닫혀있는 코드가 된다. 이는 첫번째 원칙, OCP 원칙과 연관된다.</p> <h2 id="간단한-팩토리"><a href="#간단한-팩토리" aria-hidden="true" class="header-anchor">#</a> 간단한 팩토리</h2> <p>자바에서 new는 구상 클래스의 인스턴스를 생성한다. 이처럼 <strong>특정 객체 생성을 처리하는 클래스</strong>를 팩토리라고 부른다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleUnitFactory</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> Unit <span class="token function">createUnit</span><span class="token punctuation">(</span>String unitNm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Unit unit <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>unitNm<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unit<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">&quot;Marine&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            unit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Marine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>unitNm<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unit<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">&quot;Firebat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            unit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Firebat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>unitNm<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unit<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">&quot;Vessel&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            unit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">vessel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>위와 같이 객체 생성을 팩토리가 담당하게 하면 아래와 같은 특징이 생긴다.</p> <blockquote><p>SimpleUnitFactory를 많은 클라이언트가 사용하는 경우.</p></blockquote> <p>팩토리 클래스를 이용해 유닛 객체를 받아서 유닛의 요구 미네랄양이라던가 유닛에 대한 정보 등을 찾아서 활용하는 Barracks와 같은 클래스와 같은곳에서 활용한다. 이처럼 유닛을 생산하는 작업을 한 클래스에 캡슐화시켜 놓으면 <strong>구현을 변경해야 하는 경우에 대비할 수 있다. 팩토리 클래스 하나만 고치면 된다</strong>.</p> <h2 id="팩토리-메소드-패턴의-정의"><a href="#팩토리-메소드-패턴의-정의" aria-hidden="true" class="header-anchor">#</a> 팩토리 메소드 패턴의 정의</h2> <p><strong>객체를 생성하기 위한 인터페이스를 정의한다. 어느 구상 클래스의 인스턴스를 만들지는 서브클래스에 의해 결정</strong>된다.  구상 클래스의 인스턴스를 만드는 작업을 캡슐화하는 팩토리 패턴의 종류는 여러가지가 있는데 그중 팩토리 메소드 패턴의 가장 큰 특징은 다음과 같다.</p> <blockquote><p>팩토리 메소드 패턴에서는 어떤 클래스의 인스턴스를 만들지는 서브클래스에 의해 결정된다.</p></blockquote> <p><strong>'결정한다'</strong> 라는 표현은 실제로 서브클래스가 어떤 인스턴스를 만드는지에 대한 의사판단을 하는게 아니라 어떤 서브클래스를 사용하느냐에 따라 생성되는 객체 인스턴스가 결정된다는 의미이다. 서브클래스가 실행중에 어떤 클래스의 인스턴스를 만들지 결정하는 것이 아니라, 생산자 클래스 자체가 사전 지식이 전혀 없는 상태에서 만들어진다.</p> <h2 id="다이어그램"><a href="#다이어그램" aria-hidden="true" class="header-anchor">#</a> 다이어그램</h2> <div class="observer"><div class="spinner observer__spinner"><div class="double-bounce1"></div> <div class="double-bounce2"></div></div> <!----> <!----></div> <p><strong>Product</strong>는 <strong>생성할 대상의 클래스를 추상화시킨 인터페이스</strong>이다. 생산 대상이되는 구상 클래스는 Product 인터페이스를 구현해야 한다.  <strong>Creator</strong>는 <strong>Product를 생성하기 위한 모든 기능이 정의되어 있는 추상 클래스</strong>이다. Product을 만드는 메소드는 구현이 없는 추상 메소드로 정의한다. 팩토리의 역할을 가진 모든 클래스는 Creator 인터페이스를 구현해야한다. 이러한 구조를 갖기 때문에 Product를 생성하는 factoryMethod()는 Creator의 구상클래스에서 구현한다. Product를 만드는 방법은 Creator의 구상클래스가 구현하므로 생성 대상의 구상 클래스를 만들어내는 작업은 해당 클래스에서 책임진다.</p> <h2 id="예시"><a href="#예시" aria-hidden="true" class="header-anchor">#</a> 예시</h2> <div class="observer"><div class="spinner observer__spinner"><div class="double-bounce1"></div> <div class="double-bounce2"></div></div> <!----> <!----></div> <p>스타크래프트 테란 종족의 유닛과 건물의 일부를 다이어그램으로 살펴보자. Barracks는 지상 인간형 유닛인 Marine, Firebat을 생산하고 Startport는 공중유닛인 Vessel, Battlecruiser, Dropship을 생산한다. 사용자가 배럭이나 스타포트에서 표시된 <strong>유닛을 클릭한다면</strong>, 해당 유닛의 이름을 인자로 전달하여 <strong>requestCreateUnit(String unitNm) 메소드를 호출</strong>한다. requestCreateUnit 메소드에는 클라이언트가 소유중인 미네랄과 해당 유닛의 미네랄을 비교하거나 하는 로직이 담겨있다. 이러한 로직을 통과하면 <strong>마지막으로 추상메소드인 createUnit() 가 호출</strong>된다. 서브클래스가 배럭인 경우 배럭의 createUnit()을, 스타포트인 경우 스타포트의 createUnit()을 호출하게 된다.</p> <p><strong>이처럼 어떤 클래스를 만들지를 결정하는 것은 서브클래스(배럭, 스타포트)이다</strong>. 다른 예로 피자가게를 들자면 배럭과 스타포트는 각 분점으로 표현할 수 있다. 본점인 PizzaCreator가 있고, 분점에서 각각 고유의 피자를 생산하고 판매한다. <strong>이러한 서브클래스를 구상 생산자라고 한다</strong>.</p> <p>팩토리 메소드 패턴은 팩토리 메소드와 결환된 requestCreateUnit() 메소드를 제공하는 형태의 프레임워크이다. Unit을 생산하고 싶은 클라이언트나 이를 사용하는 클래스에서는 requestCreateUnit()만 호출하면된다. 이를 <strong>Unit에 관한 지식을 각 생산자에 캡슐화하는 방법에 초점을 맞추어보자</strong>. 그러면 다른 형태의 프레임워크로 표현할 수 있다. Barracks에서는 지상 인간형 유닛을 만드는 것에 대한 모든 지식이 캡슐화 되어있다. Starport는 공중 유닛을 만드는 것에 대한 모든 지식이 캡슐화 되어있다. 이처럼 지식을 캡슐화해서 클라이언트로부터 분리하여 제공하는 프레임워크로 바라볼 수 있다. 새로운 형태의 팩토리가 추가되면 (커맨드 센터, 팩토리 등) UnitCreator을 상속받은 구상 생산자를 정의하고 알맞은 지식을 캡슐화하여 createUnit() 추상 메소드를 구현하면 된다.</p> <h2 id="의문점"><a href="#의문점" aria-hidden="true" class="header-anchor">#</a> 의문점</h2> <blockquote><p>구상 생산자가 하나만 있다면 팩토리 메소드 패턴의 장점이 있을까?</p></blockquote> <p>제품을 생산하는 역할을 분리시켜주면 결합이 느슨해진다. 구상 생산자가 하나만 있다는 이유로 팩토리 패턴을 제거한다면 제품을 생산하는 부분과 사용하는 부분이 같은 몸체에 있게된다. <strong>결합이 느슨해지면 제품의 구성을 변경한다해도 생산자는 변경하지 않아도 된다는 장점을 잃게된다</strong>.</p> <blockquote><p>간단한 팩토리와 팩토리 메소드 패턴의 차이는?</p></blockquote> <p>간단한 팩토리는 서브클래스와 같은 방법을 이용하지 않고 하나의 팩토리가 직접 구상 제품에 의존하는 형태이다. 팩토리 메소드 패턴에서는 구상 클래스를 만들 때, 추상 클래스를 확장해서 서브클래스를 이용한다. <strong>간단한 팩토리는 일회용 처방에 불과한 반면 팩토리 메소드 패턴은 어떤 구현을 사용할지를 서브클래스에서 결정하는 프레임워크를 만들 수 있다</strong>는 결정적인 차이가 있다. 간단한 팩토리에서는 객체 생성을 캡슐화하는 방법을 사용하긴 하지만, 생성하는 제품을 마음대로 변경할 수 없기 때문에 팩토리 메소드 패턴처럼 <strong>강력한 유연성을 제공하진 못한다</strong>.</p> <blockquote><p>팩토리 패턴은 반드시 여러 개의 제품을 만들어야 하는가?</p></blockquote> <p>이전의 예시처럼 매개변수를 이용한 팩토리 메소드를 매개변수 팩토리 메소드라고하는데, 이는 매개변수를 이용하여 한 가지 이상의 객체를 만들 수 있다. 하지만 매개변수를 사용하지 않고 그냥 한 가지의 객체만 생성할 수도 있다.</p> <blockquote><p>매개변수 팩토리 메소드는 형안정성(type-safety)에 지장이 있지 않은가?</p></blockquote> <p>배럭에 매개변수로 marine을 넘겨야하는데 실수로 mairne을 넘기면 런타임 오류가 발생한다. 이런 런타임 오류를 방지하여 형식 안정성을 조금 더 잘 보장해줄 수 있는 기법들이 존재한다. 예를 들어 매개변수 형식을 나타내기 위한 타입을 만들 수 있고, 정적 상수를 사용해서 컴파일 단계에서 오류를 잡아낼 수도 있다.</p> <p><a href="https://github.com/iluwatar/java-design-patterns/tree/master/factory-method" target="_blank" rel="noopener noreferrer">팩토리 메소드 패턴 예제<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div></div></div> <div class="column no-pad-r sm-25 xl-33 xsNone smNone post-sidebar"><div class="bizu box-default post-sidebar__bizu bizu--vertical"><div class="bizu-image"><span class="bizu-close">×</span> <a href="YOUR_AFFILIATE_LINK" target="_blank" rel="nofollow noopener"><img src="/general/web-development.png" alt="Illustration of a user studying online" class="bizu-image__image"></a></div> <div class="bizu-info"><a href="YOUR_AFFILIATE_LINK" target="_blank" rel="nofollow noopener" class="bizu-info__link bizu-info__text">
        Did you know that Udemy has more than 300 web development courses for only R $ 21.99?
      </a> <a href="http://bit.ly/all-courses-udemy" target="_blank" rel="nofollow noopener" class="bizu-info__link bizu-info__by">
        udemy.com
      </a></div></div></div> <aside class="column xs-100"><hr class="divider"> <div><div class="observer"><!----> <!----> <!----></div></div> <hr class="divider"> <section class="post-content__disqus"><h3>Leave us a comment, what do you think?</h3> <!----></section></aside></div></section></article></div> <section class="row section-newsletter justify-center"><div class="column sm-100 md-67 xl-50"><div class="newsletter"><span class="meta-text meta-text--primary">Stay in</span> <h2 class="newsletter__title">Receive our articles, videos and more directly in your inbox and stay up to date.</h2> <form method="post" action="MY_ACTION_FOR_ENGLISH_USERS" class="newsletter__form"><label for="email_news-1544622885481" class="newsletter__label"><input type="email" name="EMAIL" id="email_news-1544622885481" required="required" placeholder="Enter your email here" aria-label="Enter your email here" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
          subscribe
        </button></form></div></div></section> <aside class="container main"></aside></div> <!----> <div class="elevator"><a class="elevator__link"><span class="icon elevator__icon">greaterthan</span></a></div> <!----></div></main> <footer class="footer"><div class="footer-box1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 161" class="footer-box__shape"><path d="M-11.925-4809v-154.746c40.454,19.75,273.683,130.936,420.544,142.612,161.25,12.821,339.978-42.709,521.543-86.3,169.82-40.769,395.43,29.2,423.912,38.429v60Z" transform="translate(11.926 4970)"></path></svg></div> <div class="footer-box2"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1366 246" class="footer-box__shape"><path d="M-1505.5-4725.5v-238.1c8.149-3.133,18.138-5.059,29.672-5.9h30.954c201.21,11.667,696.6,224.535,855.572,236.458,205.129,15.385,287.179-164.1,432.047-175.625a42.381,42.381,0,0,1,16.756,1.857V-4725.5Z" transform="translate(1506 4971)"></path></svg> <ul class="footer-social__list"><li class="footer-social__item"><a href="https://github.com/CheolHoJung" target="_blank" rel="noopener external" title="Follow us on Facebook"><span class="icon footer-social__icon">github</span></a></li></ul> <div class="footer-newsletter"><div class="newsletter"><span class="meta-text meta-text--primary">Stay in</span> <h2 class="newsletter__title">Receive our articles, videos and more directly in your inbox and stay up to date.</h2> <form method="post" action="MY_ACTION_FOR_ENGLISH_USERS" class="newsletter__form"><label for="email_news-1544622885482" class="newsletter__label"><input type="email" name="EMAIL" id="email_news-1544622885482" required="required" placeholder="Enter your email here" aria-label="Enter your email here" value="" class="ui-input-field reset-input newsletter__input"></label> <button type="submit" class="ui-button reset-button newsletter__button txt-upper ui-button--primary">
          subscribe
        </button></form></div></div></div> <section class="footer-box3"><div class="row"><div class="column sm-50 footer-card"><div class="observer"><div class="spinner observer__spinner"><div class="double-bounce1"></div> <div class="double-bounce2"></div></div> <!----> <!----></div></div> <div class="column sm-50 footer-nav"><div class="row justify-right"><div class="column xs-50 sm-40 md-33 footer-nav__box footer-nav__box--1"><h2 class="meta-text title">Jcheolho blog</h2> <nav class="footer-nav1"><ul><li class="footer-nav1__item"><a href="/about/">ABOUT</a> <!----></li><li class="footer-nav1__item"><a href="/categories/">CATEGORIES</a> <!----></li><li class="footer-nav1__item"><a href="/contact/">CONTACT</a> <!----></li></ul></nav></div> <!----></div></div> <div class="column sm-100 footer-copy">2018 © MY_BLOG_NAME - 
        <a href="https://vuepress.vuejs.org/" rel="noopener" target="_blank">
          MADE WITH VUEPRESS
        </a></div></div> <span class="shapes shapes--circle" style="left: 3%; top: -20%"></span> <span class="shapes shapes--primary shapes--color3" style="left: 30%; top: -15%"></span> <span class="shapes shapes--primary" style="left: 13%; top: -80%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle shapes--color4" style="left: 40%; top: 200px"></span> <span class="shapes shapes--primary" style="left: 15%; bottom: 10%; transform: rotate(75deg)"></span> <span class="shapes shapes--circle shapes--color3" style="right: 50%; top: 30%"></span> <span class="shapes shapes--primary" style="right: 20%; top: -100%"></span> <span class="shapes shapes--circle" style="right: 10%; top: -20%"></span> <span class="shapes shapes--color4" style="right: 35%; top: -20%; transform: rotate(45deg)"></span> <span class="shapes shapes--circle" style="left: 40%; top: -50%"></span> <span class="shapes shapes--color3" style="right: 30%; top: 20%"></span> <span class="shapes shapes--circle shapes--primary" style="right: 30%; bottom: 20%"></span></section></footer></div> <!----> <!----></div></div>
    <script src="/assets/js/app.bfe739c4.js" defer></script><script src="/assets/js/13.9279a9ff.js" defer></script><script src="/assets/js/3.23193c0c.js" defer></script><script src="/assets/js/12.3e016781.js" defer></script><script src="/assets/js/11.809e9d83.js" defer></script><script src="/assets/js/16.1c2833b5.js" defer></script><script src="/assets/js/2.5fe2a2c5.js" defer></script><script src="/assets/js/5.b501fc84.js" defer></script><script src="/assets/js/6.14ae626b.js" defer></script><script src="/assets/js/17.49af5d66.js" defer></script><script src="/assets/js/42.7c4934ce.js" defer></script><script src="/assets/js/7.2fece6bb.js" defer></script><script src="/assets/js/1.68f42ae0.js" defer></script><script src="/assets/js/9.9f978aa2.js" defer></script><script src="/assets/js/14.53747437.js" defer></script><script src="/assets/js/4.b9cce61f.js" defer></script>
  </body>
</html>
